<div class="stepsdemo-content">
    <p-card styleClass="promo-selection-card">
        <ng-template pTemplate="title">
            Promotion Selection
        </ng-template>
        <ng-template pTemplate="content">
            <div class="promotion-wraper">
                <div class="p-fields">
                    <label>Select Products</label>
                    <p-multiSelect [options]="products" [(ngModel)]="promotionTypeInfo.products" (onChange)="onProductSelectionChange()" defaultLabel="Select Product" optionLabel="name" maxSelectedLabels=0 styleClass="product-multi"></p-multiSelect>
                
                <small class="p-invalid" *ngIf="!valid">Selection is required.</small>
                </div>
                    <div class="p-field-radiobutton p-col-6 fourth-row">
                        <p-radioButton id="promoType1" name="type" value="Simple Promotion" (onClick) ="onRadioBtnClick()" [(ngModel)]="promotionTypeInfo.promotype"></p-radioButton>
                        <label for="storeType1">Simple Promotion</label>
                    </div>
                    <div class="p-field-radiobutton p-col-6 fourth-row">
                        <p-radioButton id="promoType2" name="type" value="Complex Promotion" (onClick) ="onRadioBtnClick()" [(ngModel)]="promotionTypeInfo.promotype"></p-radioButton>
                        <label for="storeType2">Complex promotion</label>
                    </div>
            
            <div class="p-fields">
                <label>Reward Type</label>
                <p-dropdown *ngIf="promotionTypeInfo.promotype==='Simple Promotion' " (onChange)="onPromoChange()"  [(ngModel)]="promotionTypeInfo.promotionval" inputId="eventName" [options]="simplePromoValues" placeholder="Select">
                </p-dropdown>
                <p-dropdown *ngIf="promotionTypeInfo.promotype==='Complex Promotion'" [(ngModel)]="promotionTypeInfo.promotionval" inputId="eventName" [options]="complexPromoValues" placeholder="Select">
                </p-dropdown>
                <p-inputNumber *ngIf="promotionTypeInfo.promotype==='Simple Promotion' && promotionTypeInfo.promotionval"  [(ngModel)]="promotionTypeInfo.value" (keydown.enter)="onValInput()">
                </p-inputNumber>
            </div>
            
            <small class="p-invalid" *ngIf="!valid">Selection is required.</small>

            <div *ngIf="showtable">
                <p-table [value]="productsList" [scrollable]="true" scrollHeight="200px">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>Product</th>
                            <th>Selling Price</th>
                            <th>Promotion Type</th>
                            <th>Price after Promotion</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-product>
                        <tr>
                            <td>{{product.product}}</td>
                            <td>{{product.sp}}</td>
                            <td>{{product.promo}}</td>
                            <td>{{product.fp}}</td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
        </ng-template>
        <ng-template pTemplate="footer">
            <p-button label="Back" (onClick)="prevPage()" icon="pi pi-angle-left"></p-button>
            <p-button label="Next" (onClick)="nextPage()" icon="pi pi-angle-right" iconPos="right" styleClass="p-button-success"></p-button>
        </ng-template>
    </p-card>
</div>